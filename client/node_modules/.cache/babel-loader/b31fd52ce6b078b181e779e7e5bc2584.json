{"ast":null,"code":"var _jsxFileName = \"/Users/steve/Desktop/care/client/src/components/ResidentAssessment/AssessorSignature.js\";\nexport class Signature extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signInput: null,\n      buttons: {\n        sign: false,\n        clear: false,\n        revoke: false\n      }\n    };\n  }\n\n  bindSignature(e) {\n    console.log('e----', e);\n    if (this.state.signInput.isEmpty()) return false;\n\n    let image = this.state.signInput.toDataURL(),\n        container = document.getElementById(this.props.targetEl),\n        img = document.createElement(\"img\"),\n        onClick = e => {\n      container.removeChild(e.target);\n    };\n\n    img.src = image;\n    img.alt = \"Double Click to Remove Signature\";\n    container.children.length ? container.removeChild(container.children[0]) : null;\n    container.appendChild(img);\n    img.removeEventListener(\"dblclick\", onClick);\n    img.addEventListener(\"dblclick\", onClick);\n    this.setState({\n      buttons: {\n        revoke: true,\n        clear: true,\n        sign: true\n      }\n    });\n  } //   resizeCanvas(e){\n  //     let canvas = React.FindDOMNode(this.refs.signingSurface),\n  //          ratio =  Math.max(window.devicePixelRatio || 1, 1);\n  //     canvas.width = canvas.offsetWidth * ratio;\n  //     canvas.height = canvas.offsetHeight * ratio;\n  //     canvas.getContext(\"2d\").scale(ratio, ratio);\n  //   }\n\n\n  clearSignature(e) {\n    this.state.signInput.clear();\n    this.setState({\n      buttons: {\n        sign: true,\n        clear: true,\n        revoke: false\n      }\n    });\n  }\n\n  componentWillUnmount() {// window.addEventListener(\"resize\",this.resizeCanvas);\n  }\n\n  componentDidMount() {\n    console.log(\"sdsdsds\", this.props.srcElement);\n    let canvas = document.getElementById(this.props.srcElement);\n    widget = new SignaturePad(canvas, {\n      minWidth: .2,\n      maxWidth: 3,\n\n      onBegin(e) {\n        this.setState({\n          buttons: {\n            sign: true,\n            clear: true,\n            revoke: false\n          }\n        });\n      },\n\n      onEnd(e) {}\n\n    });\n    console.log('canvas', canvas);\n    this.setState({\n      signInput: widget\n    });\n    window.addEventListener(\"resize\", this.resizeCanvas);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container signature-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, \" \", this.props.title)), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      className: \"signature-input\",\n      id: this.props.srcElement,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      ref: \"btnWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"col-sm-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"btnSign\",\n      className: \"btn btn-success pull-left\",\n      onClick: this.bindSignature.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, \"Sign\"), \" \\xA0\", /*#__PURE__*/React.createElement(\"div\", {\n      ref: \"btnClear\",\n      className: \"btn btn-warning pull-right\",\n      onClick: this.clearSignature.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 24\n      }\n    }, \"Clear\"))));\n  }\n\n}\nexport default Signature; //React.render(<Application  srcElement=\"signature-input\" targetEl=\"sign-location\" title=\"Example Signature Widget\"/>,   document.getElementById('sign-widget'));","map":{"version":3,"sources":["/Users/steve/Desktop/care/client/src/components/ResidentAssessment/AssessorSignature.js"],"names":["Signature","React","Component","constructor","props","state","signInput","buttons","sign","clear","revoke","bindSignature","e","console","log","isEmpty","image","toDataURL","container","document","getElementById","targetEl","img","createElement","onClick","removeChild","target","src","alt","children","length","appendChild","removeEventListener","addEventListener","setState","clearSignature","componentWillUnmount","componentDidMount","srcElement","canvas","widget","SignaturePad","minWidth","maxWidth","onBegin","onEnd","window","resizeCanvas","render","title","bind"],"mappings":"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","sourcesContent":["export class Signature extends React.Component {\n    constructor(props){\n      super(props);\n      this.state ={\n        signInput:null,\n        buttons:{\n          sign:false,\n          clear:false,\n          revoke:false\n        }\n      };\n    }\n      bindSignature(e){\n        console.log('e----',e);\n      if(this.state.signInput.isEmpty()) return false;\n        let image = this.state.signInput.toDataURL(),\n            container = document.getElementById(this.props.targetEl),\n            img = document.createElement(\"img\"),\n            onClick = (e)=>{ \n              container.removeChild(e.target);\n            };\n        \n        img.src = image;\n        img.alt = \"Double Click to Remove Signature\";\n        container.children.length ? container.removeChild(container.children[0]) : null;\n        container.appendChild(img);\n         img.removeEventListener(\"dblclick\",onClick);\n        img.addEventListener(\"dblclick\",onClick);\n        this.setState({buttons:{revoke:true,clear:true,sign:true}});\n    }\n    \n  //   resizeCanvas(e){\n  //     let canvas = React.FindDOMNode(this.refs.signingSurface),\n  //          ratio =  Math.max(window.devicePixelRatio || 1, 1);\n  //     canvas.width = canvas.offsetWidth * ratio;\n  //     canvas.height = canvas.offsetHeight * ratio;\n  //     canvas.getContext(\"2d\").scale(ratio, ratio);\n      \n  //   }\n    clearSignature(e){\n      this.state.signInput.clear();\n       this.setState({buttons:{sign:true,clear:true,revoke:false}});\n    }\n    componentWillUnmount(){\n         // window.addEventListener(\"resize\",this.resizeCanvas);\n    }\n    \n      componentDidMount(){\n        console.log(\"sdsdsds\",this.props.srcElement);\n        let canvas = document.getElementById(this.props.srcElement);\n        widget =new SignaturePad(canvas,{\n          minWidth:.2,\n          maxWidth:3,\n          onBegin(e){\n            this.setState({buttons:{sign:true,clear:true,revoke:false}});\n          },\n          onEnd(e){\n            \n          },\n        });\n        console.log('canvas',canvas);\n        this.setState({signInput:widget});\n        window.addEventListener(\"resize\",this.resizeCanvas);\n      }\n    render() {\n      return <div className='container signature-container'>\n        <div class='row'>\n          <div class='col-md-12'> \n            <h1> {this.props.title}</h1>\n          </div>\n          <div class='col-md-12'>\n                <canvas   className='signature-input' id={this.props.srcElement}></canvas>\n          </div>\n            </div>\n           <div class='row' ref=\"btnWrapper\" >\n             <div class='col-sm-6'>\n          <div ref=\"btnSign\" className='btn btn-success pull-left' onClick={this.bindSignature.bind(this)}>Sign</div> &nbsp;\n                       <div ref=\"btnClear\" className='btn btn-warning pull-right' onClick={this.clearSignature.bind(this)}>Clear</div>\n             </div>\n             </div>\n        </div>\n    ;\n    }\n  }\n  export default Signature;\n  //React.render(<Application  srcElement=\"signature-input\" targetEl=\"sign-location\" title=\"Example Signature Widget\"/>,   document.getElementById('sign-widget'));\n  "]},"metadata":{},"sourceType":"module"}